# process-code-test

车辆轨迹处理工具-Alpha-0.1（适用于NGSIM-US101数据库）

## 文件说明

### totalProgress.py

数据一次性处理的快捷入口

### errorFinder.py

* 读取原始轨迹数据
* 异常值提取

|     异常类别     |           判断标准            |
| :--------------: | :---------------------------: |
|     位置异常     |    车头间距小于前车车身长     |
|     速度异常     |         车辆速度小于0         |
|    加速度异常    | 加速度小于-8m/s^2或大于5m/s^2 |
|    jerk值异常    |     jerk绝对值大于15m/s^3     |
| 1s内jerk变号异常 |        jerk变号多于1次        |

* 换道缺帧提取

### step1.py

提取位置、速度和加速度异常对应的`车辆帧`和对应的`车辆ID`

### step2.py

对非换道车辆的速度进行1阶butterworth低通滤波信号处理，平滑速度数据

### step3.py

使用Mexican hat小波分析，计算平滑后速度时间序列的能量值

### step4.py

在非换道小汽车的数据基础上提取有效跟驰对数据

|     提取指标     |           具体标准            |
| :--------------: | :---------------------------: |
|     速度         |    大于等于0     |
|     净间距       |    小于120m大于等于0          |
|    轨迹时长  | 大于30s |

### step5.py

提取车辆车辆速度轨迹加减速变化点

### step6.py

* 根据变化点位置，提取加减速或减加速过程片段
* 判断片段的数据是否满足要求
* 对符合要求的数据段进行正负迟滞判断及迟滞强度计算

### showLoop.py

绘制迟滞数据 *绘制部分需要自己实现

### infoMake.py

迟滞计算结果和各基本指标汇总

### config.py

数据存储路径配置文件




